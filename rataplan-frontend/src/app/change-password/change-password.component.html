<div class="form-container">
  <h1 class="headline">Passwort ändern</h1>
  <form [formGroup]="changePasswordForm">
    <div class="oldPassword">
      <mat-form-field appearance="fill">
        <mat-label>Altes Passwort</mat-label>
        <input matInput [type]="hideOldPassword ? 'password' : 'text'" [formControl]="oldPassword" [errorStateMatcher]="errorStateMatcher">
        <button mat-icon-button matSuffix (click)="hideOldPassword = !hideOldPassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideOldPassword">
          <mat-icon>{{hideOldPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-error *ngIf="oldPassword.invalid">{{getOldPasswordErrorMessage()}}</mat-error>
      </mat-form-field>
    </div>
    <div class="newPassword">
      <mat-form-field appearance="fill">
        <mat-label>Neues Passwort</mat-label>
        <input matInput [type]="hideNewPassword ? 'password' : 'text'" [formControl]="newPassword" [errorStateMatcher]="errorStateMatcher">
        <button mat-icon-button matSuffix (click)="hideNewPassword = !hideNewPassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideNewPassword">
          <mat-icon>{{hideNewPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-error *ngIf="newPassword.invalid">{{getNewPasswordErrorMessage()}}</mat-error>
      </mat-form-field>
    </div>
    <div class="confirmPassword">
      <mat-form-field appearance="fill">
        <mat-label>Passwort wiederholen</mat-label>
        <input matInput [type]="hideConfirmPassword ? 'password' : 'text'" [formControl]="confirmPassword" pattern="{{newPassword.value}}" [errorStateMatcher]="errorStateMatcher">
        <button mat-icon-button matSuffix (click)="hideConfirmPassword = !hideConfirmPassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideConfirmPassword">
          <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-error *ngIf="confirmPassword.invalid">{{getConfirmPasswordErrorMessage()}}</mat-error>
      </mat-form-field>
    </div>
    <div class="submit-container">
      <button class="submit-button" mat-raised-button color="primary" [disabled]="!changePasswordForm.valid" (click)="submit()">
        Bestätigen
      </button>
    </div>
  </form>
</div>
